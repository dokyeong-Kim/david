
# 호스트 포트와 컨테이너 포트의 차이

## 📘 개념 정리

| 구분           | 설명                                                                 |
|----------------|----------------------------------------------------------------------|
| **호스트 포트** | 도커가 설치된 로컬 컴퓨터(호스트 OS)의 포트. 외부에서 접속 시 사용하는 포트. |
| **컨테이너 포트** | 도커 컨테이너 내부에서 애플리케이션이 리스닝(listen)하는 포트. 예: Flask의 5000번 등 |

---

## 🔹 역할 차이

- 컨테이너는 독립된 환경에서 실행되므로 외부에서는 직접 접근할 수 없습니다.
- 외부(브라우저, Postman 등)가 컨테이너 안의 서비스를 이용하려면 **호스트 포트**와 **컨테이너 포트**를 연결해야 합니다.

---

## 🔹 포트 매핑

```bash
docker run -p [호스트포트]:[컨테이너포트] 이미지명
```

예시:

```bash
docker run -d -p 8080:80 nginx
```

- `8080`: 호스트 포트
- `80`: 컨테이너 포트 (nginx는 기본적으로 80 포트를 사용)

> 이 설정을 하면 브라우저에서 `localhost:8080`으로 접속 시 컨테이너 내부의 80번 포트로 전달됨.

---

## 🔹 요약

- 컨테이너 안에서 어떤 포트로 애플리케이션이 실행되든 외부에서는 직접 접근할 수 없습니다.
- 반드시 `-p` 옵션으로 호스트 포트와 컨테이너 포트를 매핑해야 외부에서 접근이 가능합니다.
- 동일한 컨테이너 포트라도, 여러 컨테이너를 실행할 때는 호스트 포트를 각각 다르게 설정해야 충돌이 발생하지 않습니다.
