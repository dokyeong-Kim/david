# Flask와 Gunicorn의 차이 및 배포 시 Gunicorn을 사용하는 이유

## ✅ Flask란?
- Flask는 **Python 기반의 마이크로 웹 프레임워크**이다.
- 웹 애플리케이션의 라우팅, 요청 처리, 템플릿 렌더링 등을 지원한다.
- 개발 서버(`flask run`)는 **디버깅용**이며, 실제 운영 환경에서는 사용하지 않는다.

## ✅ Gunicorn이란?
- **WSGI(Web Server Gateway Interface) 호환 Python WSGI HTTP 서버**이다.
- **Flask 애플리케이션을 실행 가능한 서버 환경에서 실행**하기 위한 중간 다리 역할을 한다.
- 멀티 프로세스 기반으로 작동하여 성능이 우수하고, **배포용 서버**로 적합하다.

## 🔄 Flask vs Gunicorn

| 항목            | Flask 개발 서버              | Gunicorn WSGI 서버                  |
|-----------------|------------------------------|-------------------------------------|
| 목적            | 개발, 테스트용               | 배포, 운영 환경용                   |
| 성능            | 단일 스레드/프로세스         | 멀티 프로세스 지원                  |
| 보안            | 취약                         | 안정적인 보안 설정 가능             |
| 요청 처리       | 제한적                        | 병렬 처리로 고성능 요청 처리 가능   |
| 사용 명령어     | `flask run`                  | `gunicorn main:app --bind 0.0.0.0:80` |

## 🚀 왜 배포 시 Gunicorn을 사용하는가?

- Flask의 개발용 서버는 **단일 스레드로 작동**하며, 실제 트래픽 처리에는 부적합함
- Gunicorn은 멀티 프로세스로 병렬 요청을 처리하므로 **성능과 안정성**이 뛰어남
- Nginx, Docker, Kubernetes 등 다양한 인프라와 연동이 쉬움
- 운영 환경에서 **신뢰성과 확장성 확보**를 위해 Gunicorn 사용이 권장됨

## 🧩 결론

- **Flask**는 웹 애플리케이션을 구현하는 도구이고,
- **Gunicorn**은 이를 **배포 가능한 WSGI 서버로 실행하는 도구**입니다.
- 배포 시에는 Gunicorn과 같은 **WSGI 서버**를 반드시 사용하는 것이 표준입니다.

### 🗂 전체 구조도: Docker + Flask + Gunicorn + Port

```mermaid
1. 브라우저가 localhost:80으로 요청을 보냄.

2. 도커가 -p 80:80 설정을 통해 호스트의 포트 80 → 컨테이너의 포트 80으로 포워딩.

3. 컨테이너 내부에서 Gunicorn 서버가 80 포트에서 대기 중.

4. Gunicorn은 main.py 또는 app.py의 Flask 애플리케이션을 WSGI 방식으로 실행.

5. Flask 애플리케이션이 요청을 처리하고 결과를 Gunicorn에 반환.

6. Gunicorn은 결과를 클라이언트에게 응답함.
```